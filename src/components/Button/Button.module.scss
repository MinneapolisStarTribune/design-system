/* Button component styles */
.button {
  /* Base button styles */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-4);
  border-radius: var(--radius-full);
  cursor: pointer;
  
  /* Typography */
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  
  /* Remove default button styles */
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  
  border: none;
  
  /* Size variants */
  &.small {
    padding: var(--spacing-8) var(--spacing-12);
  }
  
  &.medium {
    padding: var(--spacing-8) var(--spacing-16);
  }
  
  &.large {
    padding: var(--spacing-8) var(--spacing-24);
  }
  
  /* Neutral colors */
  &.neutral {
    &.filled {
      background-color: var(--color-button-filled-background);
      color: var(--color-button-filled-text);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-filled-hover-background);
        color: var(--color-button-filled-hover-text);
      }
    }
    
    &.outlined {
      background-color: var(--color-button-outlined-background);
      color: var(--color-button-outlined-text);
      border: 1px solid var(--color-button-outlined-border);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-outlined-hover-background);
        color: var(--color-button-outlined-hover-text);
        border-color: var(--color-button-outlined-hover-border);
      }
    }
    
    &.ghost {
      background-color: var(--color-button-ghost-background);
      color: var(--color-button-ghost-text);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-ghost-hover-background);
        color: var(--color-button-ghost-hover-text);
      }
    }
  }
  
  /* Brand colors */
  &.brand {
    &.filled {
      background-color: var(--color-button-brand-filled-background);
      color: var(--color-button-brand-filled-text);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-brand-filled-hover-background);
        color: var(--color-button-brand-filled-hover-text);
      }
    }
    
    &.outlined {
      background-color: var(--color-button-brand-outlined-background);
      color: var(--color-button-brand-outlined-text);
      border: 1px solid var(--color-button-brand-outlined-border);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-brand-outlined-hover-background);
        color: var(--color-button-brand-outlined-hover-text);
        border-color: var(--color-button-brand-outlined-hover-border);
      }
    }
    
    &.ghost {
      background-color: var(--color-button-brand-ghost-background);
      color: var(--color-button-brand-ghost-text);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-brand-ghost-hover-background);
        color: var(--color-button-brand-ghost-hover-text);
      }
    }
  }
  
  /* Brand-accent colors */
  &.brand-accent {
    &.filled {
      background-color: var(--color-button-brand-accent-filled-background);
      color: var(--color-button-brand-accent-filled-text);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-brand-accent-filled-hover-background);
        color: var(--color-button-brand-accent-filled-hover-text);
      }
    }
    
    &.outlined {
      background-color: var(--color-button-brand-accent-outlined-background);
      color: var(--color-button-brand-accent-outlined-text);
      border: 1px solid var(--color-button-brand-accent-outlined-border);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-brand-accent-outlined-hover-background);
        color: var(--color-button-brand-accent-outlined-hover-text);
        border-color: var(--color-button-brand-accent-outlined-hover-border);
      }
    }
    
    &.ghost {
      background-color: var(--color-button-brand-accent-ghost-background);
      color: var(--color-button-brand-accent-ghost-text);
      
      &:hover:not(:disabled) {
        background-color: var(--color-button-brand-accent-ghost-hover-background);
        color: var(--color-button-brand-accent-ghost-hover-text);
      }
    }
  }
  
  /* Gradient border for brand-accent buttons (Varsity brand only) */
  /* 
   * Browsers do not support linear gradients for borders natively.
   * The CSS `border` property only accepts solid colors, and `border-image` 
   * doesn't work with `border-radius`, which we need for rounded buttons.
   * 
   * Approach: Use a ::after pseudo-element with the gradient as background,
   * then use CSS mask to "cut out" the inner content area, leaving only
   * the padding area (the border) visible. This creates a gradient border
   * that respects border-radius.
   * 
   * Gradient border is shown at rest AND on hover for Varsity brand-accent buttons.
   * 
   * Note: These classes are only applied when the hover-border token contains "gradient"
   */
  &.brandAccentFilled,
  &.brandAccentOutlined {
    position: relative;

    /* Hide default border for outlined buttons */
    &.brandAccentOutlined {
      border-color: transparent !important;
    }

    /* ::after pseudo-element - creates gradient border at rest and on hover */
    &::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: var(--radius-full);
      left: 0;
      top: 0;
      pointer-events: none;
      z-index: 0;
      /* Gradient border using mask technique - mask out the content area */
      -webkit-mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: exclude;
      mask: 
        linear-gradient(#fff 0 0) content-box, 
        linear-gradient(#fff 0 0);
      mask-composite: exclude;
      padding: 1px; /* Border thickness */
    }

    /* Filled buttons: gradient border at rest */
    &.brandAccentFilled::after {
      background: var(--color-button-brand-accent-filled-hover-border);
    }

    /* Outlined buttons: gradient border at rest */
    &.brandAccentOutlined::after {
      background: var(--color-button-brand-accent-outlined-hover-border);
    }

    /* Hover state: maintain gradient border */
    &:hover:not(:disabled) {
      &.brandAccentFilled {
        background: transparent !important;
      }
      &.brandAccentOutlined {
        border-color: transparent !important;
      }
    }

    /* Ensure button content is above the border */
    > * {
      position: relative;
      z-index: 1;
    }
  }

  /* Disabled button styles - applies to all buttons regardless of brand or variant */
  &.disabled {
    opacity: 0.4 !important;
    cursor: not-allowed !important;
  }
}
